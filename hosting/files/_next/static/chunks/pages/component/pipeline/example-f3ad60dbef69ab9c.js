(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8164],{95372:function(e){e.exports=function(e,n,r,t){for(var i=e.length,o=r+(t?1:-1);t?o--:++o<i;)if(n(e[o],o,e))return o;return-1}},56632:function(e,n,r){var t=r(89278),i=r(80068),o=r(50098);e.exports=function(e){return function(n,r,a){var s=Object(n);if(!i(n)){var c=t(r,3);n=o(n),r=function(e){return c(s[e],e,s)}}var l=e(n,r,a);return l>-1?s[c?n[l]:l]:void 0}}},92489:function(e,n,r){var t=r(56632)(r(1724));e.exports=t},1724:function(e,n,r){var t=r(95372),i=r(89278),o=r(47991),a=Math.max,s=Math.min;e.exports=function(e,n,r){var c=null==e?0:e.length;if(!c)return-1;var l=c-1;return void 0!==r&&(l=o(r),l=r<0?a(c+l,0):s(l,c-1)),t(e,i(n,3),l,!0)}},94919:function(e,n,r){var t=r(91936),i=1/0;e.exports=function(e){return e?(e=t(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},47991:function(e,n,r){var t=r(94919);e.exports=function(e){var n=t(e),r=n%1;return n===n?r?n-r:n:0}},76927:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Ce}});var t=r(27378),i=r(43991),o=r(79303),a=r(23615),s=r.n(a),c=r(92489),l=r.n(c),u=r(46817),d=r(17231),f=r(68397),h=r(92677),p=r(68087),g=r(78174),v=r.n(g);function b(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function m(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(n){w(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function w(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function x(){return x=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},x.apply(this,arguments)}function z(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function O(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return S(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var N="Invariant failed";function C(e,n){if(!e)throw new Error(N)}function k(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function V(){return V=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},V.apply(this,arguments)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=new Map,P=new Map,M=new Map,R=0;function W(e,n,r){void 0===r&&(r={}),r.threshold||(r.threshold=0);var t=r,i=t.root,o=t.rootMargin,a=t.threshold;if(E.has(e)&&C(!1),e){var s=function(e){return e?M.has(e)?M.get(e):(R+=1,M.set(e,R.toString()),M.get(e)+"_"):""}(i)+(o?a.toString()+"_"+o:a.toString()),c=P.get(s);c||(c=new IntersectionObserver(H,r),s&&P.set(s,c));var l={callback:n,element:e,inView:!1,observerId:s,observer:c,thresholds:c.thresholds||(Array.isArray(a)?a:[a])};return E.set(e,l),c.observe(e),l}}function A(e){if(e){var n=E.get(e);if(n){var r=n.observerId,t=n.observer,i=t.root;t.unobserve(e);var o=!1,a=!1;r&&E.forEach((function(n,t){t!==e&&(n.observerId===r&&(o=!0,a=!0),n.observer.root===i&&(a=!0))})),!a&&i&&M.delete(i),t&&!o&&t.disconnect(),E.delete(e)}}}function H(e){e.forEach((function(e){var n=e.isIntersecting,r=e.intersectionRatio,t=e.target,i=E.get(t);if(i&&r>=0){var o=i.thresholds.some((function(e){return i.inView?r>e:r>=e}));void 0!==n&&(o=o&&n),i.inView=o,i.callback(o,e)}}))}var I,X,$,B,D=function(e){var n,r;function i(){for(var n,r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return k(_(n=e.call.apply(e,[this].concat(t))||this),"state",{inView:!1,entry:void 0}),k(_(n),"node",null),k(_(n),"handleNode",(function(e){n.node&&A(n.node),n.node=e||null,n.observeNode()})),k(_(n),"handleChange",(function(e,r){(e!==n.state.inView||e)&&n.setState({inView:e,entry:r}),n.props.onChange&&n.props.onChange(e,r)})),n}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var o=i.prototype;return o.componentDidMount=function(){this.node||C(!1)},o.componentDidUpdate=function(e,n){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(A(this.node),this.observeNode()),n.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(A(this.node),this.node=null)},o.componentWillUnmount=function(){this.node&&(A(this.node),this.node=null)},o.observeNode=function(){if(this.node){var e=this.props,n=e.threshold,r=e.root,t=e.rootMargin;W(this.node,this.handleChange,{threshold:n,root:r,rootMargin:t})}},o.render=function(){var e=this.state,n=e.inView,r=e.entry;if(!function(e){return"function"!=typeof e.children}(this.props))return this.props.children({inView:n,entry:r,ref:this.handleNode});var i=this.props,o=i.children,a=i.as,s=i.tag;i.triggerOnce,i.threshold,i.root,i.rootMargin,i.onChange;var c=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(i,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]);return(0,t.createElement)(a||s||"div",V({ref:this.handleNode},c),o)},i}(t.Component);k(D,"displayName","InView"),k(D,"defaultProps",{threshold:0,triggerOnce:!1});var T,L,q={XSmall:"xsmall",Small:"small",Normal:"normal",Large:"large"},U=(w(I={},q.XSmall,{borderRadius:4,chevron:{size:2},fontSize:12,fontWeight:600,gutter:{vertical:2,horizontal:4},height:22,lineHeight:1,minWidth:74}),w(I,q.Small,{borderRadius:4,chevron:{size:2},fontSize:14,fontWeight:600,gutter:{vertical:2,horizontal:6},height:25,lineHeight:1,minWidth:74}),w(I,q.Normal,{borderRadius:4,chevron:{size:3},fontSize:14,fontWeight:600,gutter:{vertical:2,horizontal:8},height:32,lineHeight:1,minWidth:74}),w(I,q.Large,{borderRadius:4,chevron:{size:4},fontSize:16,fontWeight:600,gutter:{vertical:2,horizontal:10},height:45,lineHeight:1,minWidth:74}),I),F={color:o.s.blue.base,primary:{backgroundColor:o.s.blue.light2},secondary:{backgroundColor:o.s.blue.light3}},Z=function(e){var n=e.size,r=U[n],t=r.height,i=r.lineHeight;return(0,d.css)(X||(X=O(["\n    display: flex;\n    height: ","px;\n    line-height: ",";\n  "])),t,i)},J=function(e){var n=e.size,r=U[n].lineHeight;return(0,d.css)($||($=O(["\n    position: relative;\n    flex-direction: row;\n    line-height: ",";\n    align-items: center;\n    justify-content: center;\n  "])),r)},G=function(e){var n=e.size,r=U[n],t=r.gutter,i=r.height/2+2*r.chevron.size,o=i;return(0,d.css)(B||(B=O(["\n    margin-left: ","px;\n    width: ","px;\n    height: 100%;\n    position: absolute;\n    right: -","px;\n    top: 0;\n    overflow: hidden;\n    align-self: center;\n\n    &::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      transform-origin: 0 0;\n      transform: rotate(45deg);\n    }\n  "])),2*t.horizontal,i,o)},K=(0,h.zB)("pipeline"),Q=(0,h.zB)("pipeline-stages"),Y=(0,h.zB)("pipeline-stage"),ee=(0,h.zB)("pipeline-stage-chevron"),ne=(0,h.zB)("pipeline-counter"),re=(0,h.zB)("pipeline-counter-chevron"),te=["children","className","intersectionNode","size","threshold"],ie=function(e){var n=e.size,r=void 0===n?q.XSmall:n,t=U[r],i=t.chevron,a=t.height,s=F.primary,c=a/2;return(0,d.cx)(G({size:r}),(0,d.css)(L||(L=O(["\n      &::before {\n        background-color: ",";\n        box-shadow: 0 0 0 ","px ",",\n          0 0 0 ","px ",";\n      }\n    "])),s.backgroundColor,i.size,o.s.white,c,s.backgroundColor))},oe=(0,t.forwardRef)((function(e,n){var r,i=e.children,o=e.className,a=void 0===o?"":o,s=e.intersectionNode,c=e.size,l=e.threshold,u=void 0===l?.8:l,f=z(e,te),h=function(e){void 0===e&&(e={});var n=(0,t.useRef)(),r=(0,t.useState)({inView:!1,entry:void 0}),i=r[0],o=r[1],a=(0,t.useCallback)((function(r){n.current&&A(n.current),r&&W(r,(function(n,t){o({inView:n,entry:t}),n&&e.triggerOnce&&A(r)}),e),n.current=r}),[e.threshold,e.root,e.rootMargin,e.triggerOnce]);return(0,t.useDebugValue)(i.inView),[a,i.inView,i.entry]}({threshold:u,root:s}),g=j(h,2),v=g[0],b=g[1],m=function(e){return{base:(n=e,r=n.size,t=void 0===r?q.XSmall:r,i=U[t],o=i.borderRadius,a=i.chevron,s=i.fontSize,c=i.fontWeight,l=i.gutter,u=i.height,f=i.lineHeight,h=F.color,p=F.primary,g=u/2+2*a.size,(0,d.cx)(Z({size:t}),J({size:t}),(0,d.css)(T||(T=O(["\n      background-color: ",";\n      color: ",";\n      padding: ","px ","px;\n      margin-right: ","px;\n      font-size: ","px;\n      font-weight: ",";\n      line-height: ",";\n      flex: 1 1 auto;\n      white-space: nowrap;\n      z-index: 1;\n\n      &:first-of-type {\n        border-top-left-radius: ","px;\n        border-bottom-left-radius: ","px;\n      }\n\n      &[data-stage-visible='false'] {\n        counter-increment: hiddenCount;\n      }\n    "])),p.backgroundColor,h,l.vertical,l.horizontal,g,s,c,f,o,o))),chevron:ie(e)};var n,r,t,i,o,a,s,c,l,u,f,h,p,g}({size:c}),y=m.base,w=m.chevron;return(0,p.jsx)("li",x({},f,Y.prop,{ref:(r=[v,n],function(e){r.forEach((function(n){"function"==typeof n?n(e):null!=n&&(n.current=e)}))}),"data-testid":"pipeline-stage","data-stage-visible":b,className:(0,d.cx)(y,a)}),i,(0,p.jsx)("div",x({"data-testid":"pipeline-stage-chevron"},ee.prop,{className:w})))}));oe.displayName="Stage",oe.propTypes={children:s().node.isRequired,className:s().string,intersectionNode:s().any,size:s().oneOf(Object.values(q)),threshold:s().oneOfType([s().number,s().arrayOf(s().number.isRequired)])};var ae,se,ce=["className","children","size"],le=function(e){var n=e.size,r=void 0===n?q.XSmall:n,t=U[r],i=t.chevron,o=t.height,a=F.secondary,s=o/2;return(0,d.cx)(G({size:r}),(0,d.css)(se||(se=O(["\n      &::before {\n        background-color: ",";\n        box-shadow: 0 0 0 ","px transparent,\n          0 0 0 ","px transparent;\n      }\n    "])),a.backgroundColor,i.size,s))},ue=(0,t.forwardRef)((function(e,n){var r=e.className,t=void 0===r?"":r,i=e.children,o=e.size,a=z(e,ce),s=function(e){return{base:(n=e,r=n.size,t=void 0===r?q.XSmall:r,i=U[t],o=i.chevron,a=i.fontSize,s=i.fontWeight,c=i.gutter,l=i.height,u=i.lineHeight,f=F.color,h=F.secondary,p=l/2+2*o.size,(0,d.cx)(Z({size:t}),J({size:t}),(0,d.css)(ae||(ae=O(["\n      background-color: ",";\n      color: ",";\n      padding: ","px ","px;\n      margin-right: ","px;\n      font-size: ","px;\n      font-weight: ",";\n      line-height: ",";\n      flex: 1 1 auto;\n      white-space: nowrap;\n      z-index: 2;\n\n      &::before {\n        white-space: nowrap;\n        content: '+' counter(hiddenCount);\n      }\n    "])),h.backgroundColor,f,c.vertical,c.horizontal,p,a,s,u))),chevron:le(e)};var n,r,t,i,o,a,s,c,l,u,f,h,p}({size:o}),c=s.base,l=s.chevron;return(0,p.jsx)("div",x({},a,ne.prop,{"data-testid":"pipeline-counter",className:(0,d.cx)(c,t),ref:n}),i,(0,p.jsx)("div",x({},re.prop,{"data-testid":"pipeline-counter-chevron",className:l})))}));ue.displayName="Counter",ue.propTypes={children:s().node,className:s().string,size:s().oneOf(Object.values(q)).isRequired};var de=e=>(0,t.isValidElement)(e)&&Boolean(e.props.children);const fe=e=>null==e||"boolean"==typeof e||"{}"===JSON.stringify(e)?"":e.toString(),he=e=>e instanceof Array||(0,t.isValidElement)(e)?t.Children.toArray(e).reduce(((e,n)=>{let r="";return r=(0,t.isValidElement)(n)&&de(n)?he(n.props.children):(0,t.isValidElement)(n)&&!de(n)?"":fe(n),e.concat(r)}),""):fe(e);var pe,ge,ve,be=he,me=["children","className","size"],ye=function(e){var n=e.size,r=U[n].minWidth;return(0,d.cx)(Z({size:n}),(0,d.css)(ge||(ge=O(["\n      flex-grow: 1;\n      flex-shrink: 1;\n      flex-basis: 100%;\n      flex-wrap: wrap;\n      overflow: hidden;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      min-width: ","px;\n    "])),r))},we="leafygreen-ui-pipeline-stage--last-visible",xe=function(e){var n=e.hasHiddenStages,r=e.size,t=U[r],i=t.height,a=t.chevron,s=F.primary,c=F.secondary,l=i/2,u=n?{innerColor:o.s.white,outerColor:c.backgroundColor}:{innerColor:"transparent",outerColor:"transparent"};return(0,d.css)(ve||(ve=O(["\n    ."," > ","::before {\n      background-color: ",";\n      box-shadow: 0 0 0 ","px ",",\n        0 0 0 ","px ",";\n    }\n  "])),we,ee.selector,s.backgroundColor,a.size,u.innerColor,l,u.outerColor)},ze=(0,t.forwardRef)((function(e,n){var r=e.children,i=e.className,o=void 0===i?"":i,a=e.size,s=void 0===a?q.XSmall:a,c=z(e,me),h=j((0,t.useState)(null),2),g=h[0],b=h[1],w=j((0,t.useState)(!1),2),S=w[0],N=w[1];(0,f.Iy)(g,{childList:!0,subtree:!0,attributes:!0},(function(e){var n,r,t=e.map((function(e){return e.type}));(e.map((function(e){return e.attributeName})).includes("data-stage-visible")||t.includes("childList"))&&(r=(n=g)&&n.scrollHeight>n.clientHeight||n&&n.scrollWidth>n.clientWidth,N(r),function(){var e=Array.from(g.children);e.forEach((function(e){e.classList.remove(we)}));var n=l()(e,(function(e){return"false"!==e.dataset.stageVisible}));n&&n.classList.add(we)}())}));var C=t.Children.map(r,(function(e){var n,r={size:s,intersectionNode:g,ref:(0,t.createRef)()};return null!==(n=e)&&"object"===y(n)&&"type"in n&&"Stage"===n.type.displayName?t.cloneElement(e,r):t.createElement(oe,m(m({},r),{},{children:e}))})),k=function(e){var n=(t.Children.map(e,be)||[]).filter(Boolean);return v()(n,(function(e,n,r){return r.length-1!==n?[e,">"]:e})).join(" ")}(C),V=function(e){return{base:(n=e,r=n.size,(0,d.cx)(Z({size:r}),(0,d.css)(pe||(pe=O(["\n      counter-reset: hiddenCount;\n      flex-direction: row;\n    "]))))),pipeline:ye(e),lastVisibleStageChevron:xe(e)};var n,r}({hasHiddenStages:S,size:s}),_=V.base,E=V.pipeline,P=V.lastVisibleStageChevron;return(0,p.jsx)("div",x({},c,K.prop,{"data-testid":"pipeline",ref:n,className:(0,d.cx)(_,o)}),(0,p.jsx)("ol",x({},Q.prop,{ref:b,"data-testid":"pipeline-stages",className:(0,d.cx)(E,P)}),C),S&&t.Children.count(C)>0&&(0,p.jsx)(u.ZP,{align:"top",justify:"middle",trigger:(0,p.jsx)(ue,{size:s}),triggerEvent:"hover",darkMode:!0},k))}));ze.displayName="Pipeline",ze.propTypes={children:s().node,className:s().string,size:s().oneOf(Object.values(q)).isRequired};var Oe=r(91949),je={size:{type:"select",options:Object.values(q),default:q.XSmall,label:"Size"}},Se=(0,i.iv)("display:flex;flex-direction:row;align-items:center;overflow:hidden;resize:horizontal;padding:2rem;margin:2rem;border:1px solid ",o.s.gray.light1,";min-width:180px;width:320px;","","");function Ne(e){return(0,p.jsx)("div",{className:Se},(0,p.jsx)(ze,e,["$match","$group","$project","$addFields","$limit"].map((function(e,n){return(0,p.jsx)(oe,{key:"".concat(e,"-").concat(n)},e)}))))}function Ce(){return(0,p.jsx)(Oe.Z,{knobsConfig:je},(function(e){return(0,p.jsx)(Ne,e)}))}},58274:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/component/pipeline/example",function(){return r(76927)}])},58702:function(e,n){"use strict";var r=60103,t=60106,i=60107,o=60108,a=60114,s=60109,c=60110,l=60112,u=60113,d=60120,f=60115,h=60116,p=60121,g=60122,v=60117,b=60129,m=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;r=y("react.element"),t=y("react.portal"),i=y("react.fragment"),o=y("react.strict_mode"),a=y("react.profiler"),s=y("react.provider"),c=y("react.context"),l=y("react.forward_ref"),u=y("react.suspense"),d=y("react.suspense_list"),f=y("react.memo"),h=y("react.lazy"),p=y("react.block"),g=y("react.server.block"),v=y("react.fundamental"),b=y("react.debug_trace_mode"),m=y("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case r:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case h:case f:case s:return e;default:return n}}case t:return n}}}n.isFragment=function(e){return w(e)===i}},19185:function(e,n,r){"use strict";e.exports=r(58702)}},function(e){e.O(0,[8174,7690,1949,2888,9774,179],(function(){return n=58274,e(e.s=n);var n}));var n=e.O();_N_E=n}]);